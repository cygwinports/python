--- origsrc/Python-2.5.2/setup.py	2008-02-04 17:41:02.000000000 -0600
+++ src/Python-2.5.2/setup.py	2008-07-02 02:11:28.671875000 -0500
@@ -873,11 +873,13 @@
                     exts.append(Extension('bsddb185', ['bsddbmodule.c']))
 
         # The standard Unix dbm module:
-        if platform not in ['cygwin']:
+        if platform not in ['win32']:
             if find_file("ndbm.h", inc_dirs, []) is not None:
                 # Some systems have -lndbm, others don't
                 if self.compiler.find_library_file(lib_dirs, 'ndbm'):
                     ndbm_libs = ['ndbm']
+                elif self.compiler.find_library_file(lib_dirs, 'gdbm_compat'):
+                    ndbm_libs = ['gdbm_compat']
                 else:
                     ndbm_libs = []
                 exts.append( Extension('dbm', ['dbmmodule.c'],
